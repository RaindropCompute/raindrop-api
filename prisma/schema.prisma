datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum Status {
  PENDING
  UPLOADED
  IN_PROGRESS
  FINISHED
  ERROR
}

model Video {
    id  String @id @default(uuid())
    uploadTime DateTime @default(now())
    status Status @default(PENDING)
    error String?
    uploadedBy String
    title String
    metadata MetaData?
    orgId String
}

model MetaData {
    duration Float
    bitrate Float
    width Int
    height Int
    framerate Float
    audioSampleRate Float

    videoId String @id @unique
    video Video @relation(fields: [videoId], references: [id])
}
